var ProgressBar=function(b,a){this.options=a;this.$outerBar=$(b);this.$percentBar;this.$percentText;this.$valueBox;this.$mask;this.init()};ProgressBar.DEFAULTS={width:"100%",height:10,target:null,popup:false,bgColor:"#2F4056",defaultValue:"0%",showPercent:false,percentPos:"outside",onLoaded:function(a){},onCloseBar:function(a){}};ProgressBar.prototype.init=function(){var c=this,e=c.$outerBar,a=c.options;c.$percentBar=$('<div class="percent-bar"></div>').appendTo(e);c.$valueBox=$('<input type="hidden" class="valueBox" />').appendTo(e);e.width(a.width).height(a.height).addClass("progressBar");c.$percentBar.width(a.defaultValue).css({background:a.bgColor});c.$valueBox.val(a.defaultValue);if(a.showPercent){c.$percentBar.html('<span class="percent-text">'+a.defaultValue+"</span>");c.$percentText=c.$percentBar.find(".percent-text");if(a.percentPos=="inside"){c.$percentText.addClass("pos-in").css({"line-height":a.height+"px"})}else{c.$percentText.addClass("pos-out")}}if(a.target!=null){var d;if(typeof a.target==="string"){d=$(a.target)}else{if(typeof a.target==="object"){d=a.target}}e.appendTo(d)}if(a.popup&&a.target==null){var b=$("body");c.$mask=$('<div class="blackMask"></div>');b.append(c.$mask);e.addClass("progressBar_popup").css({"margin-left":-e.width()/2});if(a.showPercent){c.$percentText.css({color:"#FFF"})}}};ProgressBar.prototype.setValue=function(a){this.$percentBar.width(a);if(this.options.showPercent){this.$percentText.html(a)}this.$valueBox.val(a).change()};ProgressBar.prototype.getValue=function(){return this.$valueBox.val()};ProgressBar.prototype.closeBar=function(){var a=this;setTimeout(function(){a.$outerBar.remove();if(a.options.popup){a.$mask.remove()}a.options.onCloseBar.call(a,a.$outerBar)},300)};