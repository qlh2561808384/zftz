(function(e){e.extend(e.fn.bootstrapTable.defaults,{fixedColumns:false,fixedNumber:1});var a=e.fn.bootstrapTable.Constructor,d=a.prototype.initHeader,c=a.prototype.initBody,b=a.prototype.resetView;a.prototype.initFixedColumns=function(){this.$fixedHeader=e(['<div class="fixed-table-header-columns">',"<table>","<thead></thead>","</table>","</div>"].join(""));this.timeoutHeaderColumns_=0;this.$fixedHeader.find("table").attr("class",this.$el.attr("class"));this.$fixedHeaderColumns=this.$fixedHeader.find("thead");this.$tableHeader.before(this.$fixedHeader);this.$fixedBody=e(['<div class="fixed-table-body-columns">',"<table>","<tbody></tbody>","</table>","</div>"].join(""));this.timeoutBodyColumns_=0;this.$fixedBody.find("table").attr("class",this.$el.attr("class"));this.$fixedBodyColumns=this.$fixedBody.find("tbody");this.$tableBody.before(this.$fixedBody)};a.prototype.initHeader=function(){d.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.fixedColumns){return}this.initFixedColumns();var g=this,f=this.$header.find("tr").clone();f.each(function(){e(this).find("th:gt("+(g.options.fixedNumber-1)+")").remove()});this.$fixedHeaderColumns.html("").append(f)};a.prototype.initBody=function(){c.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.fixedColumns){return}var f=this,g=0;this.$fixedBodyColumns.html("");this.$body.find("> tr[data-index]").each(function(){var l=e(this).clone(),m=l.find("td");var k=e("<tr></tr>");k.attr("data-index",l.attr("data-index"));k.attr("data-uniqueid",l.attr("data-uniqueid"));var h=f.options.fixedNumber;if(g>0){--h;--g}for(var j=0;j<h;j++){k.append(m.eq(j).clone())}f.$fixedBodyColumns.append(k);if(m.eq(0).attr("rowspan")){g=m.eq(0).attr("rowspan")-1}})};a.prototype.resetView=function(){b.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.fixedColumns){return}clearTimeout(this.timeoutHeaderColumns_);this.timeoutHeaderColumns_=setTimeout(e.proxy(this.fitHeaderColumns,this),this.$el.is(":hidden")?100:0);clearTimeout(this.timeoutBodyColumns_);this.timeoutBodyColumns_=setTimeout(e.proxy(this.fitBodyColumns,this),this.$el.is(":hidden")?100:0)};a.prototype.fitHeaderColumns=function(){var h=this,f=this.getVisibleFields(),g=0;this.$body.find("tr:first-child:not(.no-records-found) > *").each(function(k){var l=e(this),j=k;if(k>=h.options.fixedNumber){return false}if(h.options.detailView&&!h.options.cardView){j=k-1}h.$fixedHeader.find('th[data-field="'+f[j]+'"]').find(".fht-cell").width(l.innerWidth());g+=l.outerWidth()});this.$fixedHeader.width(g+1).show()};a.prototype.fitBodyColumns=function(){var g=this,h=-(parseInt(this.$el.css("margin-top"))),f=this.$tableBody.height()-18;if(!this.$body.find("> tr[data-index]").length){this.$fixedBody.hide();return}if(!this.options.height){h=this.$fixedHeader.height()-1;f=f-h}this.$fixedBody.css({width:this.$fixedHeader.width(),height:f,top:h+1}).show();this.$body.find("> tr").each(function(k){g.$fixedBody.find("tr:eq("+k+")").height(e(this).height()-0.5);var j=this;g.$fixedBody.find("tr:eq("+k+")").find("td").each(function(i){e(this).width(e(e(j).find("td")[i]).width())})});this.$tableBody.on("scroll",function(){g.$fixedBody.find("table").css("top",-e(this).scrollTop())});this.$body.find("> tr[data-index]").off("hover").hover(function(){var i=e(this).data("index");g.$fixedBody.find('tr[data-index="'+i+'"]').addClass("hover")},function(){var i=e(this).data("index");g.$fixedBody.find('tr[data-index="'+i+'"]').removeClass("hover")});this.$fixedBody.find("tr[data-index]").off("hover").hover(function(){var i=e(this).data("index");g.$body.find('tr[data-index="'+i+'"]').addClass("hover")},function(){var i=e(this).data("index");g.$body.find('> tr[data-index="'+i+'"]').removeClass("hover")})}})(jQuery);